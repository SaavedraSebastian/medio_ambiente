<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>¡Página en Construcción! - Juego</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      color: white;
    }
    
    .progress-container {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      height: 30px;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
      z-index: 100;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      width: 72%;
      border-radius: 15px;
      transition: width 0.5s ease;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding-right: 15px;
      color: white;
      font-weight: bold;
      font-size: 14px;
    }
    
    .message-box {
      position: fixed;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px 30px;
      text-align: center;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
      z-index: 100;
    }
    
    .message-box h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    
    .message-box p {
      margin-bottom: 1rem;
    }
    
    .key {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      padding: 2px 10px;
      margin: 0 5px;
      font-family: monospace;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .game-container {
      position: relative;
      flex-grow: 1;
      overflow: hidden;
      margin-top: 100px;
      margin-bottom: 100px;
    }
    
    #gameCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10;
    }
    
    .score-board {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 1.2rem;
      z-index: 100;
    }
    
    .controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 1rem;
      z-index: 100;
      text-align: center;
    }
    
    .controls-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-gap: 5px;
      margin-top: 10px;
    }
    
    .control-key {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      padding: 8px;
      font-weight: bold;
    }
    
    .victory-message {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      display: none;
    }
    
    .victory-message h2 {
      font-size: 3rem;
      margin-bottom: 2rem;
      color: #FFD700;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }
    
    .victory-message button {
      background: #4CAF50;
      border: none;
      color: white;
      padding: 15px 30px;
      font-size: 1.2rem;
      border-radius: 30px;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s;
    }
    
    .victory-message button:hover {
      background: #45a049;
      transform: scale(1.05);
    }
    
    .construction {
      position: absolute;
      font-size: 24px;
      z-index: 5;
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
    
    .pulse {
      animation: pulse 2s ease-in-out infinite;
    }
  </style>
</head>
<body>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar">72%</div>
  </div>
  
  <div class="message-box">
    <h1><i class="fas fa-tools mr-3 text-yellow-400"></i>¡Página en Construcción!</h1>
    <p>Estamos trabajando duro para crear una experiencia increíble para ti. Mientras tanto, ¡disfruta de nuestro minijuego!</p>
    <p>Recoge todas las monedas para completar el progreso</p>
  </div>
  
  <div class="game-container">
    <canvas id="gameCanvas"></canvas>
  </div>
  
  <div class="score-board">
    Monedas: <span id="coinCount">0</span> | Tiempo: <span id="timer">00:00</span>
  </div>
  
  <div class="controls">
    <p>Controles:</p>
    <div class="controls-grid">
      <div class="control-key">←</div>
      <div class="control-key">↑</div>
      <div class="control-key">→</div>
      <div class="control-key" colspan="3">ESPACIO: Saltar</div>
    </div>
  </div>
  
  <div class="victory-message" id="victoryMessage">
    <h2><i class="fas fa-trophy mr-3"></i>¡Felicidades! ¡Has completado el juego!</h2>
    <p class="text-xl mb-6">La página estará lista muy pronto...</p>
    <button id="restartButton">Jugar de nuevo</button>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const coinCountElement = document.getElementById('coinCount');
      const timerElement = document.getElementById('timer');
      const progressBar = document.getElementById('progressBar');
      const victoryMessage = document.getElementById('victoryMessage');
      const restartButton = document.getElementById('restartButton');
      
      // Ajustar tamaño del canvas
      function resizeCanvas() {
        canvas.width = canvas.parentElement.clientWidth;
        canvas.height = canvas.parentElement.clientHeight;
      }
      
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      
      // Variables del juego
      const player = {
        x: 100,
        y: canvas.height - 150,
        width: 40,
        height: 60,
        velocityX: 0,
        velocityY: 0,
        speed: 5,
        jumping: false,
        color: '#FF5722',
        coins: 0
      };
      
      const platforms = [
        { x: 0, y: canvas.height - 100, width: canvas.width, height: 20, color: '#8B4513' },
        { x: 300, y: canvas.height - 200, width: 200, height: 20, color: '#A0522D' },
        { x: 600, y: canvas.height - 300, width: 150, height: 20, color: '#8B4513' },
        { x: 100, y: canvas.height - 400, width: 250, height: 20, color: '#A0522D' },
        { x: 500, y: canvas.height - 500, width: 200, height: 20, color: '#8B4513' }
      ];
      
      const coins = [];
      const totalCoins = 20;
      
      // Crear monedas
      for (let i = 0; i < totalCoins; i++) {
        const platform = platforms[Math.floor(Math.random() * platforms.length)];
        coins.push({
          x: platform.x + 10 + Math.random() * (platform.width - 40),
          y: platform.y - 30,
          radius: 12,
          collected: false
        });
      }
      
      // Gravedad
      const gravity = 0.5;
      let keys = {};
      let seconds = 0;
      let gameRunning = true;
      
      // Contador de tiempo
      setInterval(() => {
        if (gameRunning) {
          seconds++;
          const minutes = Math.floor(seconds / 60);
          const remainingSeconds = seconds % 60;
          timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
      }, 1000);
      
      // Dibujar jugador
      function drawPlayer() {
        ctx.fillStyle = player.color;
        ctx.fillRect(player.x, player.y, player.width, player.height);
        
        // Ojos
        ctx.fillStyle = 'white';
        ctx.fillRect(player.x + 10, player.y + 15, 8, 8);
        ctx.fillRect(player.x + player.width - 18, player.y + 15, 8, 8);
        ctx.fillStyle = 'black';
        ctx.fillRect(player.x + 12, player.y + 17, 4, 4);
        ctx.fillRect(player.x + player.width - 16, player.y + 17, 4, 4);
        
        // Boca
        ctx.beginPath();
        ctx.arc(player.x + player.width/2, player.y + 40, 10, 0, Math.PI);
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 2;
        ctx.stroke();
      }
      
      // Dibujar plataformas
      function drawPlatforms() {
        platforms.forEach(platform => {
          ctx.fillStyle = platform.color;
          ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
          
          // Textura de madera
          ctx.strokeStyle = '#5D2906';
          ctx.lineWidth = 2;
          for (let i = platform.x + 10; i < platform.x + platform.width; i += 20) {
            ctx.beginPath();
            ctx.moveTo(i, platform.y);
            ctx.lineTo(i, platform.y + platform.height);
            ctx.stroke();
          }
        });
      }
      
      // Dibujar monedas
      function drawCoins() {
        coins.forEach(coin => {
          if (!coin.collected) {
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(coin.x, coin.y, coin.radius, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = '#FFA500';
            ctx.beginPath();
            ctx.arc(coin.x, coin.y, coin.radius * 0.7, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(coin.x, coin.y, coin.radius * 0.4, 0, Math.PI * 2);
            ctx.fill();
          }
        });
      }
      
      // Detectar colisiones
      function checkCollisions() {
        // Colisiones con plataformas
        player.jumping = true;
        player.y += player.velocityY;
        
        platforms.forEach(platform => {
          if (
            player.x < platform.x + platform.width &&
            player.x + player.width > platform.x &&
            player.y + player.height > platform.y &&
            player.y + player.height < platform.y + platform.height
          ) {
            player.jumping = false;
            player.y = platform.y - player.height;
            player.velocityY = 0;
          }
        });
        
        // Colisiones con monedas
        coins.forEach(coin => {
          if (!coin.collected) {
            const dx = (player.x + player.width/2) - coin.x;
            const dy = (player.y + player.height/2) - coin.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance < player.width/2 + coin.radius) {
              coin.collected = true;
              player.coins++;
              coinCountElement.textContent = player.coins;
              
              // Actualizar barra de progreso
              const progress = 72 + Math.floor((player.coins / totalCoins) * 28);
              progressBar.style.width = progress + '%';
              progressBar.textContent = progress + '%';
              
              if (player.coins === totalCoins) {
                gameRunning = false;
                setTimeout(() => {
                  victoryMessage.style.display = 'flex';
                }, 1000);
              }
            }
          }
        });
      }
      
      // Actualizar posición del jugador
      function updatePlayer() {
        // Movimiento horizontal
        player.velocityX = 0;
        if (keys['ArrowLeft']) player.velocityX = -player.speed;
        if (keys['ArrowRight']) player.velocityX = player.speed;
        
        player.x += player.velocityX;
        
        // Limites de pantalla
        if (player.x < 0) player.x = 0;
        if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;
        
        // Gravedad
        if (player.jumping) {
          player.velocityY += gravity;
        } else {
          player.velocityY = 0;
        }
        
        player.y += player.velocityY;
        
        // Limite inferior
        if (player.y + player.height > canvas.height) {
          player.y = canvas.height - player.height;
          player.jumping = false;
          player.velocityY = 0;
        }
      }
      
      // Dibujar elementos decorativos
      function drawDecorations() {
        // Construcciones en el fondo
        ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
        ctx.fillRect(canvas.width - 150, canvas.height - 250, 100, 200);
        ctx.fillRect(canvas.width - 300, canvas.height - 180, 80, 130);
        
        // Grúas
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(50, canvas.height - 100);
        ctx.lineTo(50, 100);
        ctx.lineTo(200, 100);
        ctx.stroke();
        
        // Nubes
        ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
        ctx.beginPath();
        ctx.arc(200, 80, 30, 0, Math.PI * 2);
        ctx.arc(230, 70, 25, 0, Math.PI * 2);
        ctx.arc(250, 80, 30, 0, Math.PI * 2);
        ctx.fill();
      }
      
      // Bucle principal del juego
      function gameLoop() {
        // Limpiar canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Fondo
        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
        gradient.addColorStop(0, '#1a2a6c');
        gradient.addColorStop(0.5, '#b21f1f');
        gradient.addColorStop(1, '#1a2a6c');
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // Dibujar elementos
        drawDecorations();
        drawPlatforms();
        drawCoins();
        drawPlayer();
        
        // Actualizar física
        if (gameRunning) {
          updatePlayer();
          checkCollisions();
        }
        
        requestAnimationFrame(gameLoop);
      }
      
      // Eventos de teclado
      document.addEventListener('keydown', function(e) {
        keys[e.key] = true;
        
        // Salto
        if (e.key === ' ' && !player.jumping) {
          player.velocityY = -15;
          player.jumping = true;
        }
      });
      
      document.addEventListener('keyup', function(e) {
        keys[e.key] = false;
      });
      
      // Reiniciar juego
      restartButton.addEventListener('click', function() {
        victoryMessage.style.display = 'none';
        player.coins = 0;
        coinCountElement.textContent = '0';
        seconds = 0;
        timerElement.textContent = '00:00';
        progressBar.style.width = '72%';
        progressBar.textContent = '72%';
        gameRunning = true;
        
        // Restaurar monedas
        coins.forEach(coin => {
          coin.collected = false;
        });
      });
      
      // Iniciar juego
      gameLoop();
      
      // Agregar elementos decorativos
      const constructionItems = ['🚧', '🔨', '🔧', '📐', '🛠️', '🧱', '📦', '🔩', '⚙️', '💻'];
      for (let i = 0; i < 15; i++) {
        const item = document.createElement('div');
        item.classList.add('construction');
        item.classList.add('pulse');
        item.textContent = constructionItems[Math.floor(Math.random() * constructionItems.length)];
        item.style.fontSize = (Math.random() * 20 + 20) + 'px';
        item.style.top = Math.random() * 60 + 20 + '%';
        item.style.left = Math.random() * 100 + '%';
        document.body.appendChild(item);
      }
    });
  </script>
</body>
</html>